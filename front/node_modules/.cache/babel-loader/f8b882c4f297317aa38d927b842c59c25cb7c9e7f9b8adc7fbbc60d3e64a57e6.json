{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/leesuhyeon/Desktop/\\uAE43\\uD5C8\\uBE0C/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/leesuhyeon/Desktop/\\uAE43\\uD5C8\\uBE0C/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useReducer,useCallback,useState}from\"react\";import{useNavigation}from\"../../Router/Router\";import Axios from'axios';import\"./css/ItemCounter.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ItemCount=function ItemCount(_ref){var mockData=_ref.mockData,allData=_ref.allData;var _useNavigation=useNavigation(),onClickStart=_useNavigation.onClickStart,onClickOwner=_useNavigation.onClickOwner,onClickPay=_useNavigation.onClickPay,onClickDone=_useNavigation.onClickDone,onClickMain=_useNavigation.onClickMain;var sumAmount=mockData.reduce(function(total,data){return total+data.amount;},0);var sumPrice=mockData.reduce(function(total,data){return total+data.price*data.amount;},0);var jsonData=JSON.stringify(allData,null,2);var sendDataToFlask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;onClickPay();console.log(\"찍히나\");console.log(allData);_context.next=6;return Axios.get('http://127.0.0.1:5000',jsonData);case 6:response=_context.sent;console.log(response.data);// Flask 서버에서 전달된 응답 데이터 출력\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error('데이터 전송 중 오류 발생:',_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function sendDataToFlask(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"counterBack\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"counterButton\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"numContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"numdiv\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"allAmount\",children:\"\\uC218\\uB7C9\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sumAmount\",children:[sumAmount,\"\\uAC1C\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"priceContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"allsum\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"allPrice\",children:\" \\uCD1D \\uAE08\\uC561\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sumPrice\",children:[sumPrice,\"\\uC6D0\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"payButton\",onClick:sendDataToFlask,children:\"\\uACB0\\uC81C\\uD558\\uAE30\"})]})]})})]});};export default ItemCount;","map":{"version":3,"names":["React","useEffect","useReducer","useCallback","useState","useNavigation","Axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemCount","_ref","mockData","allData","_useNavigation","onClickStart","onClickOwner","onClickPay","onClickDone","onClickMain","sumAmount","reduce","total","data","amount","sumPrice","price","jsonData","JSON","stringify","sendDataToFlask","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","console","log","get","sent","t0","error","stop","apply","arguments","children","className","onClick"],"sources":["C:/Users/leesuhyeon/Desktop/깃허브/front/src/component/page/item/ItemCount.jsx"],"sourcesContent":["import React, { useEffect, useReducer, useCallback, useState } from \"react\";\r\nimport { useNavigation } from \"../../Router/Router\";\r\nimport Axios from 'axios';\r\nimport \"./css/ItemCounter.css\";\r\nconst ItemCount = ({ mockData,allData }) => {\r\n  const { onClickStart, onClickOwner, onClickPay, onClickDone, onClickMain } =\r\n    useNavigation();\r\n\r\n  const sumAmount = mockData.reduce((total, data) => total + data.amount, 0);\r\n  const sumPrice = mockData.reduce(\r\n    (total, data) => total + data.price * data.amount,\r\n    0\r\n  );\r\n  const jsonData = JSON.stringify(allData, null, 2);\r\n\r\n  const sendDataToFlask = async () => {\r\n    try {\r\n      onClickPay()\r\n      console.log(\"찍히나\")\r\n      console.log(allData)\r\n      const response = await Axios.get('http://127.0.0.1:5000', jsonData);\r\n      console.log(response.data); // Flask 서버에서 전달된 응답 데이터 출력\r\n    } catch (error) {\r\n      console.error('데이터 전송 중 오류 발생:', error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <hr />\r\n      <div className=\"counterBack\" >\r\n        <div className=\"counterButton\">\r\n          <div className=\"numContainer\">\r\n            <div className=\"numdiv\">\r\n            <p className=\"allAmount\">수량</p>\r\n            <p className=\"sumAmount\">{sumAmount}개</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"priceContainer\">\r\n              <div className=\"allsum\">\r\n                <p className=\"allPrice\"> 총 금액</p>\r\n                <p className=\"sumPrice\">{sumPrice}원</p>\r\n              </div>\r\n            <button className=\"payButton\" onClick={sendDataToFlask} >\r\n              결제하기\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ItemCount;\r\n"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAC3E,OAASC,aAAa,KAAQ,qBAAqB,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAC/B,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAA6B,IAAvB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAACC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACnC,IAAAC,cAAA,CACEZ,aAAa,CAAC,CAAC,CADTa,YAAY,CAAAD,cAAA,CAAZC,YAAY,CAAEC,YAAY,CAAAF,cAAA,CAAZE,YAAY,CAAEC,UAAU,CAAAH,cAAA,CAAVG,UAAU,CAAEC,WAAW,CAAAJ,cAAA,CAAXI,WAAW,CAAEC,WAAW,CAAAL,cAAA,CAAXK,WAAW,CAGxE,GAAM,CAAAC,SAAS,CAAGR,QAAQ,CAACS,MAAM,CAAC,SAACC,KAAK,CAAEC,IAAI,QAAK,CAAAD,KAAK,CAAGC,IAAI,CAACC,MAAM,GAAE,CAAC,CAAC,CAC1E,GAAM,CAAAC,QAAQ,CAAGb,QAAQ,CAACS,MAAM,CAC9B,SAACC,KAAK,CAAEC,IAAI,QAAK,CAAAD,KAAK,CAAGC,IAAI,CAACG,KAAK,CAAGH,IAAI,CAACC,MAAM,GACjD,CACF,CAAC,CACD,GAAM,CAAAG,QAAQ,CAAGC,IAAI,CAACC,SAAS,CAAChB,OAAO,CAAE,IAAI,CAAE,CAAC,CAAC,CAEjD,GAAM,CAAAiB,eAAe,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEpBvB,UAAU,CAAC,CAAC,CACZyB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAClBD,OAAO,CAACC,GAAG,CAAC9B,OAAO,CAAC,CAAA0B,QAAA,CAAAE,IAAA,SACG,CAAAtC,KAAK,CAACyC,GAAG,CAAC,uBAAuB,CAAEjB,QAAQ,CAAC,QAA7DS,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CACdH,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACb,IAAI,CAAC,CAAE;AAAAgB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAE5BG,OAAO,CAACK,KAAK,CAAC,iBAAiB,CAAAR,QAAA,CAAAO,EAAO,CAAC,CAAC,yBAAAP,QAAA,CAAAS,IAAA,MAAAb,OAAA,iBAE3C,kBAVK,CAAAL,eAAeA,CAAA,SAAAC,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAUpB,CACD,mBACE3C,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eACE9C,IAAA,QAAK,CAAC,cACNA,IAAA,QAAK+C,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1B5C,KAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B9C,IAAA,QAAK+C,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3B5C,KAAA,QAAK6C,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACvB9C,IAAA,MAAG+C,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,cAAE,CAAG,CAAC,cAC/B5C,KAAA,MAAG6C,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAE/B,SAAS,CAAC,QAAC,EAAG,CAAC,EACpC,CAAC,CACH,CAAC,cACNb,KAAA,QAAK6C,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3B5C,KAAA,QAAK6C,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrB9C,IAAA,MAAG+C,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,sBAAK,CAAG,CAAC,cACjC5C,KAAA,MAAG6C,SAAS,CAAC,UAAU,CAAAD,QAAA,EAAE1B,QAAQ,CAAC,QAAC,EAAG,CAAC,EACpC,CAAC,cACRpB,IAAA,WAAQ+C,SAAS,CAAC,WAAW,CAACC,OAAO,CAAEvB,eAAgB,CAAAqB,QAAA,CAAE,0BAEzD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,EACN,CAAC,CAEP,CAAC,CACD,cAAe,CAAAzC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}