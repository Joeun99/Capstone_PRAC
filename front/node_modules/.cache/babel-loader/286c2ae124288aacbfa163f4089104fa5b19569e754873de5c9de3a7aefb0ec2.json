{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leesuhyeon\\\\Desktop\\\\\\uCEA1\\uC2A4\\uD1A4 \\uB3CC\\uC544\\uAC00\\uB294\\uAC70\\\\\\uD154\\uB798\\uADF8\\uB7A8 \\uAE30\\uB2A5 + \\uB2E4\\uC2DC \\uBC31\\uC73C\\uB85C \\uB370\\uC774\\uD130 \\uC804\\uC1A1\\\\front\\\\src\\\\component\\\\page\\\\PayPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useNavigation } from \"../Router/Router\";\nimport \"./css/PayPage.css\";\nimport Axios from \"axios\";\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PayPage = () => {\n  _s();\n  const location = useLocation();\n  const {\n    onClickStart,\n    onClickOwner,\n    onClickPay,\n    onClickDone,\n    onClickMain\n  } = useNavigation();\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const jquery = document.createElement(\"script\");\n    jquery.src = \"http://code.jquery.com/jquery-1.12.4.min.js\";\n    const iamport = document.createElement(\"script\");\n    iamport.src = \"http://cdn.iamport.kr/js/iamport.payment-1.1.7.js\";\n    document.head.appendChild(jquery);\n    document.head.appendChild(iamport);\n    return () => {\n      document.head.removeChild(jquery);\n      document.head.removeChild(iamport);\n    };\n  }, []);\n  var quantity = Math.random() * 1000;\n  const price = queryParams.get('amount');\n  const Payment = () => {\n    onClickDone();\n    const {\n      IMP\n    } = window;\n    IMP.init(\"imp41444282\");\n    var HOTNODDLE = \"NODDLE\" + quantity;\n    const data = {\n      pg: \"kakaopay\",\n      pay_method: \"card\",\n      amount: `${price}`,\n      name: \"무인가게 결제\",\n      merchant_uid: HOTNODDLE\n    };\n    IMP.request_pay(data, callback);\n  };\n  const callback = response => {\n    const {\n      sucess,\n      error_msg,\n      imp_uid,\n      merchant_uid,\n      pay_method,\n      paid_amount,\n      status\n    } = response;\n    if (sucess) {\n      alert(\"결제성공\");\n    } else {\n      alert(`결제실패 : ${error_msg}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper1\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Header1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goods1\",\n          children: \"1. \\uC0C1\\uD488\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pay1\",\n          children: \"2. \\uACB0\\uC81C \\uBC29\\uBC95\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"done1\",\n          children: \"3. \\uACB0\\uC81C \\uC644\\uB8CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"txt\",\n        children: \"\\uACB0\\uC81C \\uC218\\uB2E8\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selectCash\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cash\",\n          onClick: Payment,\n          children: \"\\uCE74\\uCE74\\uC624\\uD398\\uC774\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"card\",\n          onClick: onClickDone,\n          children: \"\\uD604\\uAE08\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonCall\",\n          onClick: onClickMain,\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(PayPage, \"wXLN3ND/vvPIcVjjXpZ8tjmylaE=\", false, function () {\n  return [useLocation, useNavigation];\n});\n_c = PayPage;\nexport default PayPage;\nvar _c;\n$RefreshReg$(_c, \"PayPage\");","map":{"version":3,"names":["React","useEffect","useNavigation","Axios","useLocation","jsxDEV","_jsxDEV","PayPage","_s","location","onClickStart","onClickOwner","onClickPay","onClickDone","onClickMain","queryParams","URLSearchParams","search","jquery","document","createElement","src","iamport","head","appendChild","removeChild","quantity","Math","random","price","get","Payment","IMP","window","init","HOTNODDLE","data","pg","pay_method","amount","name","merchant_uid","request_pay","callback","response","sucess","error_msg","imp_uid","paid_amount","status","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/leesuhyeon/Desktop/캡스톤 돌아가는거/텔래그램 기능 + 다시 백으로 데이터 전송/front/src/component/page/PayPage.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigation } from \"../Router/Router\";\r\nimport \"./css/PayPage.css\";\r\nimport Axios from \"axios\";\r\nimport { useLocation } from 'react-router-dom';\r\nconst PayPage = () => {\r\n  const location = useLocation();\r\n  \r\n  const { onClickStart, onClickOwner, onClickPay, onClickDone, onClickMain } =\r\n    useNavigation();\r\n      useEffect(() => {\r\n        const queryParams = new URLSearchParams(location.search);\r\n        const jquery = document.createElement(\"script\");\r\n        jquery.src = \"http://code.jquery.com/jquery-1.12.4.min.js\";\r\n        const iamport = document.createElement(\"script\");\r\n        iamport.src = \"http://cdn.iamport.kr/js/iamport.payment-1.1.7.js\";\r\n        document.head.appendChild(jquery);\r\n        document.head.appendChild(iamport);\r\n        return () => {\r\n          document.head.removeChild(jquery);\r\n          document.head.removeChild(iamport);\r\n        };\r\n      }, []);\r\n      \r\n      var quantity = Math.random() * 1000;\r\n      const price = queryParams.get('amount');\r\n      const Payment = () => {\r\n        \r\n        onClickDone()\r\n        const {IMP} = window;\r\n        IMP.init(\"imp41444282\");\r\n        var HOTNODDLE = \"NODDLE\"+quantity;\r\n        const data = {\r\n            pg: \"kakaopay\",\r\n            pay_method: \"card\",\r\n            amount: `${price}`,\r\n            name: \"무인가게 결제\",\r\n            merchant_uid: HOTNODDLE,\r\n        };\r\n        IMP.request_pay(data,callback);\r\n      }\r\n      const callback = (response) =>{\r\n        const {sucess,error_msg,imp_uid,merchant_uid,pay_method,paid_amount,status} = response\r\n        if(sucess){\r\n          alert(\"결제성공\");\r\n        }\r\n        else{\r\n          alert(`결제실패 : ${error_msg}`);\r\n        }\r\n      }\r\n\r\n  return (\r\n    <div className=\"wrapper1\">\r\n      <header>\r\n        <div className=\"Header1\">\r\n          <div className=\"goods1\">1. 상품확인</div>\r\n          <div className=\"pay1\">2. 결제 방법</div>\r\n          <div className=\"done1\">3. 결제 완료</div>\r\n        </div>\r\n      </header>\r\n      <div className=\"wrapper\">\r\n        <div className=\"txt\">결제 수단을 선택해주세요</div>\r\n        <div className=\"selectCash\">\r\n          <button className=\"cash\"  onClick={Payment}>\r\n            카카오페이\r\n          </button>\r\n          <button className=\"card\" onClick={onClickDone}>\r\n            현금\r\n          </button>\r\n\r\n        </div>\r\n        <div>\r\n        <button className=\"buttonCall\" onClick={onClickMain}>\r\n          처음으로\r\n        </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PayPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}